import { Meta, Source, Canvas } from '@storybook/addon-docs';
import * as Stories from './002.addresses.stories.tsx'


<Meta of={Stories} />

## Customer details form
The billing and shipping address form is related not only to the `OrderContainer`, but also to the `CustomerContainer` since we want to save the customer details for future orders.


<span title='Billing and Shipping addresses' type='info'>
To simplify the guide we will use the billing address as same address for shipping and we will only consider guest customers.
To do so we have to set `<CustomerContainer isGuest={true}>` and inside `<AddressesContainer shipToDifferentAddress={false}>`, but you can easily adapt the code to your needs
and add a button to toggle between the `shipToDifferentAddress` flag and conditionally render the shipping address form using the `<ShippingAddressForm>` the same way the example
below uses the `<BillingAddressForm>` component.
</span>


The example below shows how to use the `<AddressesContainer>` and its `CustomerInput` children within the `<OrderContainer>`.

<Canvas of={Stories.CustomerAddresses} />

<span title='Invert Billing and Shipping addresses' type='info'>
To simplify the guide we will use the shipping address as same address for billing and we will only consider guest customers.
To do so we have to set `<CustomerContainer isGuest={true}>` and inside `<AddressesContainer shipToDifferentAddress={false} invertAddresses={true}>`, but you can easily adapt the code to your needs
and add a button to toggle between the `shipToDifferentAddress` flag and conditionally render the shipping address form using the `<BillingAddressForm>` the same way the example
below uses the `<ShippingAddressForm>` component.
</span>


The example below shows how to use the `<AddressesContainer>` and its `CustomerInput` children within the `<OrderContainer>`.

<Canvas of={Stories.CustomerInvertAddresses} />

<span title='Tip' type='info'>
Customer email address can also be saved without a billing or shipping address form, using the `saveOnBlur` prop.

Try to set an email address and to click outside the input field to see the email address being saved.
</span>

<Canvas of={Stories.CustomerEmailSaveOnBlur} />

<span title='Customize input field validation and error message' type='info'>
  There is the possibility to customize the error messages and the validation for each input field.

  Combine `pattern` prop on the `AddressInput`, and `customFieldMessageError` on addresses form (`BillingAddressForm`, `ShippingAddressForm`).

  Try to set a number on the first name input field and see the custom error message being displayed.
</span>

<Canvas of={Stories.CustomErrorMessages} />
